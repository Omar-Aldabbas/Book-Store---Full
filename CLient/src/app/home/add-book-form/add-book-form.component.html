<form
  #bookForm="ngForm"
  (ngSubmit)="onSubmit(bookForm)"
  class="max-w-3xl mx-auto bg-background text-text p-10 rounded-2xl shadow-xl border border-secondary/20 flex flex-col gap-6 mt-12 mb-12"
>
  <h3 class="text-3xl font-bold text-center">
    Add <span class="text-primary">New Book</span>
  </h3>

  <!-- Title -->
  <div class="flex flex-col gap-2">
    <label for="title" class="font-semibold">Book Title</label>
    <input
      id="title"
      name="title"
      type="text"
      [(ngModel)]="book.Title"
      #title="ngModel"
      required
      class="bg-background border border-secondary/30 px-4 py-2 rounded-lg focus:outline-none focus:border-primary transition"
    />
    <span *ngIf="title.invalid && title.touched" class="text-sm text-primary">
      Title is required
    </span>
  </div>

  <!-- Author -->
  <div class="flex flex-col gap-2">
    <label for="author" class="font-semibold">Author Name</label>
    <input
      id="author"
      name="author"
      type="text"
      [(ngModel)]="book.Author"
      #author="ngModel"
      required
      class="bg-background border border-secondary/30 px-4 py-2 rounded-lg focus:outline-none focus:border-primary transition"
    />
    <span *ngIf="author.invalid && author.touched" class="text-sm text-primary">
      Author name is required
    </span>
  </div>

  <!-- Added At -->
  <div class="flex flex-col gap-2">
    <label for="date" class="font-semibold">Added At</label>
    <input
      id="date"
      name="date"
      type="datetime-local"
      [(ngModel)]="book.AddDate"
      #date="ngModel"
      required
      class="bg-background border border-secondary/30 px-4 py-2 rounded-lg focus:outline-none focus:border-primary transition"
    />
    <span *ngIf="date.invalid && date.touched" class="text-sm text-primary">
      Date is required
    </span>
  </div>

  <!-- ISBN -->
  <div class="flex flex-col gap-2">
    <label for="isbn" class="font-semibold">ISBN</label>
    <input
      id="isbn"
      name="isbn"
      type="text"
      [(ngModel)]="book.ISBN"
      #isbn="ngModel"
      required
      class="bg-background border border-secondary/30 px-4 py-2 rounded-lg focus:outline-none focus:border-primary transition"
    />
    <span *ngIf="isbn.invalid && isbn.touched" class="text-sm text-primary">
      ISBN is required
    </span>
  </div>

  <!-- Main Genre -->
  <div class="flex flex-col gap-2">
    <label for="maingenre" class="font-semibold">Main Genre</label>
    <select
      id="maingenre"
      name="mgenre"
      [(ngModel)]="book.MainGenre"
      #mgenre="ngModel"
      required
      class="bg-background border border-secondary/30 px-4 py-2 rounded-lg focus:outline-none focus:border-primary transition"
    >
      <option value="" disabled selected>Select genre</option>
      <option *ngFor="let genre of genres" [value]="genre.id">
        {{ genre.genreName }}
      </option>
    </select>
    <span *ngIf="mgenre.invalid && mgenre.touched" class="text-sm text-primary">
      Please select a genre
    </span>
  </div>

  <div class="flex flex-col gap-2">
    <label for="language" class="font-semibold">Language</label>
    <select
      id="language"
      name="language"
      [(ngModel)]="book.Language"
      #language="ngModel"
      required
      class="bg-background border border-secondary/30 px-4 py-2 rounded-lg focus:outline-none focus:border-primary transition"
    >
      <option value="" disabled selected>Select language</option>
      <option *ngFor="let language of languages" [value]="language.languageName">
        {{ language.languageName }}
      </option>
    </select>
    <span *ngIf="language.invalid && language.touched" class="text-sm text-primary">
      Please select a language
    </span>
  </div>

  <div class="flex flex-col gap-2">
    <label for="bookCover" class="font-semibold">Book Cover URL</label>
    <input
      id="bookCover"
      name="bookCover"
      type="file"
      [(ngModel)]="book.ThumbnailUrl"
      #bookCover="ngModel"
      required
      class="bg-background border border-secondary/30 px-4 py-2 rounded-lg focus:outline-none focus:border-primary transition"
    />
    <span *ngIf="bookCover.invalid && bookCover.touched" class="text-sm text-primary">
      Book cover is required
    </span>
  </div>

  <div class="text-center pt-4">
    <button
      type="submit"
      [disabled]="bookForm.invalid"
      class="inline-block border-2 border-primary text-primary font-semibold text-lg px-8 py-3 rounded-lg transition-all duration-300 hover:bg-primary hover:text-white active:bg-primary/80 active:scale-95 disabled:opacity-40 disabled:cursor-not-allowed"
    >
      Submit Book
    </button>
  </div>
</form>
